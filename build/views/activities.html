<div class="container-fluid"><div class="row"><div class="col-xs-12"><div class="panel panel-info"><div class="panel-heading"><h4 class="panel-title">Journey for {{user.name}}</h4></div><div class="panel-body"><timeline></timeline></div></div></div></div><div class="row"><div class="col-xs-12"><div class="panel panel-info"><div class="panel-heading"><h4 class="panel-title">Selected Activity Details</h4><form class="form-inline pull-right"><div class="form-group"><button class="btn btn-primary" ng-click="new()">New Activity</button></div><div class="form-group"><button class="btn btn-danger" ng-click="delete()" ng-show="selectedActivity">Delete Activity</button></div></form></div><div class="panel-body" ng-show="selectedActivity"><form class="form-horizontal" role="form"><div class="form-group"><label class="col-xs-1 control-label" for="date">Date</label><div class="col-xs-2"><datetimepicker></datetimepicker></div></div></form><form class="form-horizontal"><div class="form-group"><label class="col-xs-1 control-label" for="description">Description</label><div class="col-xs-11"><input class="form-control" name="description" ng-change="save()" ng-click="selectAllOnClick($event)" ng-model="selectedActivity.description" type="text" /></div></div></form><form class="form-horizontal"><div class="form-group"><div class="col-xs-11 col-xs-offset-1"><div class="checkbox"><label><input name="isAPM" ng-change="save()" ng-model="selectedActivity.isAPM" type="checkbox" />Was this activity part of the APM clinic?</label></div><div class="checkbox" ng-show="selectedActivity.isAPM"><label><input name="contributesTherapeutically" ng-change="save()" ng-model="selectedActivity.contributesTherapeutically" type="checkbox" />Did this activity contribute to the therapeutic outcome?</label></div></div></div></form><form class="form-horizontal"><div class="form-group"><div class="col-xs-11 col-xs-offset-1"><div class="checkbox"><label><input name="involveHandoff" ng-change="save()" ng-model="selectedActivity.involveHandoff" type="checkbox" />Did this activity involve a handoff?</label></div></div></div></form><form class="form-horizontal"><div class="form-group"><div class="col-xs-11 col-xs-offset-1"><div class="checkbox"><label><input name="involveContact" ng-change="save()" ng-model="selectedActivity.involveContact" type="checkbox" />Did this activity involve direct contact with the client?</label></div></div></div></form><div class="col-xs-3 col-xs-offset-1"><form class="form-horizontal" name="staffInvolvedForm" novalidate="" role="form"><div class="form-group"><label class="control-label" for="staffInvolved">Staff involved</label><div class="input-group"><input autocomplete="off" class="form-control" name="newStaffName" ng-model="newStaffName" required="" type="text" typeahead="staff for staff in staffInvolved(activities) | filter:$viewValue" /><span class="input-group-btn"><button class="btn btn-default" ng-click="addNewStaffInvolved()" ng-disabled="staffInvolvedForm.$invalid">+</button></span></div></div><div class="form-group"><ul class="list-group staff-involved"><li class="list-group-item" ng-repeat="staffName in selectedActivity.staffInvolved track by $index">{{staffName}}<button aria-hidden="true" class="close" ng-click="removeStaffInvolved(staffName)" type="button">&times;</button></li></ul></div></form></div><div class="col-xs-3 col-xs-offset-1"><form class="form-horizontal" name="itSystemForm" novalidate="" role="form"><div class="form-group"><label class="control-label" for="itSystem">IT System updated</label><div class="input-group"><input autocomplete="off" class="form-control" name="newITSystemName" ng-model="newITSystemName" required="" type="text" typeahead="system for system in itSystemsUpdated(activities) | filter:$viewValue" /><span class="input-group-btn"><button class="btn btn-default" ng-click="addNewITSystem()" ng-disabled="itSystemForm.$invalid">+</button></span></div></div><div class="form-group"><ul class="list-group it-systems-updated"><li class="list-group-item" ng-repeat="systemName in selectedActivity.itSystems track by $index">{{systemName}}<button aria-hidden="true" class="close" ng-click="removeITSystem(systemName)" type="button">&times;</button></li></ul></div></form></div><div class="col-xs-3 col-xs-offset-1"><form class="form-horizontal" name="paperRecordForm" novalidate="" role="form"><div class="form-group"><label class="control-label" for="paperRecord">Paper Record updated</label><div class="input-group"><input autocomplete="off" class="form-control" name="newPaperRecord" ng-model="newPaperRecord" required="" type="text" typeahead="paperName for paperName in paperRecordslist(activities) | filter:$viewValue" /><span class="input-group-btn"><button class="btn btn-default" ng-click="addNewPaperRecord()" ng-disabled="paperRecordForm.$invalid">+</button></span></div></div><div class="form-group"><ul class="list-group paper-records-updated"><li class="list-group-item" ng-repeat="paperRecordName in selectedActivity.paperRecords track by $index">{{paperRecordName}}<button aria-hidden="true" class="close" ng-click="removePaperRecord(paperRecordName)" type="button">&times;</button></li></ul></div></form></div></div></div></div><div class="col-xs-12"><div class="userDetails" ng-controller="UserDetailsController"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Details for {{user.name}}</h3></div><div class="panel-body"><form ng-submit="save(user)"><div class="form-group"><div class="input-group"><span class="input-group-addon">Name</span><input class="form-control" name="userName" ng-model="user.name" required="" /></div></div><div class="form-group"><div class="input-group"><span class="input-group-addon">UR Number</span><input class="form-control" min="0" name="urNumber" ng-model="user.urNumber" required="" type="number" /></div></div><div class="form-group"><div class="input-group"><span class="input-group-addon">Age</span><input class="form-control" min="0" name="age" ng-model="user.age" required="" type="number" /></div></div><div class="form-group"><select class="form-control" ng-model="user.gender" required=""><option value="">Select A Gender</option><option value="male">Male</option><option value="female">Female</option></select></div><div class="form-group"><button class="btn btn-primary" ng-disabled="" type="submit">Update</button></div></form></div></div><div class="messages"><ul class="list-group"><li class="list-group-item fade" ng-class="'list-group-item-' + message.type" ng-repeat="message in messages track by $index">{{message.text}}</li></ul></div></div></div></div></div><div class="messages"><ul class="list-group"><li class="list-group-item fade" ng-class="'list-group-item-' + message.type" ng-repeat="message in alerts track by $index">{{message.text}}</li></ul></div><div class="journeySummary" ng-controller="JourneySummaryController"><div class="panel panel-success"><div class="panel-heading"><h3 class="panel-title">Journey Summary for {{user.name}}</h3></div><ul class="list-group"><li class="list-group-item"><span class="badge">{{numberOfHandoffs(activities)}}</span>Handoffs</li><li class="list-group-item"><span class="badge">{{numberOfContacts(activities)}}</span>Direct contacts</li><li class="list-group-item"><span class="badge">{{numberOfStaffInvolved(activities)}}</span>Staff involved</li><li class="list-group-item"><span class="badge">{{numberOfITSystemUpdated(activities)}}</span>Different IT Systems</li><li class="list-group-item"><span class="badge">{{countOfITSystemUpdates(activities)}}</span>Updates to IT Systems</li><li class="list-group-item"><span class="badge">{{numberOfPaperRecordUpdated(activities)}}</span>Paper records updated</li><li class="list-group-item"><span class="badge">{{countOfPaperRecordUpdates(activities)}}</span>Updates to paper records</li><li class="list-group-item"><span class="badge">{{numberOfTherapeuticContributions(activities)}} of {{numberOfAPMActivities(activities)}}</span>APM therapeutic contributions</li></ul></div></div>